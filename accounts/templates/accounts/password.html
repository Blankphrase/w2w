{% extends 'accounts/profile_base.html' %}
{% load static %}

{% block title %}{{ block.super }}Change Password{% endblock title %}

{% block password_active %}submenu-active{% endblock %}

{% block styles %}
{{ block.super }}
<style>
    .container-w2w {
        max-width: 960px;
        background-color: white;
        padding: 5px 25px 25px 25px;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 25px;
        border-radius: 10px;
    }
    .container-w2w .page-header {
        margin-top: 0px;
    }
</style>
{% endblock styles %}

{% block body %}
{{ block.super }}
<div class="container container-w2w">
    <div class="page-header">
        <h3>Change Password</h3>
    </div>
    {% if password_changed %}
        <div class="alert alert-success alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            Your password has been successfuly changed.
        </div>
    {% endif %}

    {% if form.non_field_errors %}
        <div class="alert alert-danger alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            {{ form.non_field_errors }}
        </div>
    {% endif %}

    <form method="POST" role="form" class="form-horizontal">
        {% csrf_token %}

        <div class="form-group">
            <label for="{{ form.password.id_for_label }}" class="col-sm-3 control-label">Current Password</label>
            <div class="col-sm-9">
                {{ form.password|linebreaks }} 
                {% if form.errors %}
                    <div class="has-error">
                        <div class="help-block">{{ form.password.errors }}</div>
                    </div>
                {% endif %}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.new_password.id_for_label }}" class="col-sm-3 control-label">New Password</label>
            <div class="col-sm-9">
               {{ form.new_password|linebreaks }}
               {% if form.errors %}
                    <div class="has-error">
                        <div class="help-block">{{ form.new_password.errors }}</div>
                    </div>
                {% endif %}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.new_password2.id_for_label }}" class="col-sm-3 control-label">Confirm New Passsword</label>
            <div class="col-sm-9">
               {{ form.new_password2|linebreaks }}
               {% if form.errors %}
                    <div class="has-error">
                        <div class="help-block">{{ form.new_password2.errors }}</div>
                    </div>
                {% endif %}
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-offset-3 col-sm-9">
                <input type="submit" id="id_submit" class="btn btn-primary" 
                       value="Change Password"/>
            </div>
        </div>
    </form>
</div>
{% endblock body %}